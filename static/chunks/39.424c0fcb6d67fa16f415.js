(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"Y/Hr":function(e,t,a){"use strict";a.r(t);var r=a("pbKT"),c=a.n(r),s=a("Pbn2"),n=a.n(s),i=a("QpBz"),o=a.n(i),l=a("0iUn"),h=a("sLSF"),u=a("AT/M"),d=a("Tit0"),f=a("MI3g"),p=a("a7VT"),b=a("vYYK"),v=a("FAat"),O=a.n(v),y=a("q1tI"),A=a.n(y),g=a("20a2"),S=a.n(g),m=a("/ncQ"),w=(a("L/Gp"),a("y0A3"));function j(e){var t=function(){if("undefined"==typeof Reflect||!c.a)return!1;if(c.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(c()(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,r=Object(p.default)(e);if(t){var s=Object(p.default)(this).constructor;a=c()(r,arguments,s)}else a=r.apply(this,arguments);return Object(f.default)(this,a)}}var k=O.a.Option,C=function(e){Object(d.default)(a,e);var t=j(a);function a(){var e;Object(l.default)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return e=t.call.apply(t,[this].concat(c)),Object(b.a)(Object(u.default)(e),"state",{searchArticles:[],searchLoading:!1,searchClass:"",searchVal:void 0}),Object(b.a)(Object(u.default)(e),"articleSearch",function(t){if(e.state.searchLoading||e.setState({searchLoading:!0}),e.searchArticleTimer&&clearTimeout(e.searchArticleTimer),t){var a=Object(u.default)(e);e.searchArticleTimer=setTimeout(function(){Object(m.a)("/keyword/search",{search:t},"get").then(function(e){e&&e.status&&"succ"==e.status?a.setState({searchLoading:!1,searchArticles:e.data}):(a.setState({searchLoading:!1,searchArticles:[]}),o.a.error(e.message))},function(e){a.setState({searchLoading:!1,searchArticles:[]}),console.log(e),o.a.error("搜索失败，请重试")})},700)}}),e}return Object(h.default)(a,[{key:"searchOnFocus",value:function(){this.setState({searchClass:"searchFocus"})}},{key:"searchOnBlur",value:function(){this.setState({searchClass:"searchBlur"})}},{key:"selectedSearch",value:function(e){this.setState({searchArticles:[]})}},{key:"checkedArticle",value:function(e){var t="".concat(w.c,"?operate=true&id=").concat(e),a=t;S.a.push(t,a,{shallow:!0})}},{key:"render",value:function(){var e=this,t=this.state.searchArticles.map(function(t){return A.a.createElement(k,{key:t.id,onClick:e.checkedArticle.bind(e,t.id)},t.title)});return A.a.createElement(O.a,{value:this.state.searchVal,showSearch:!0,placeholder:"搜索",defaultActiveFirstOption:!1,className:this.state.searchClass,filterOption:!1,allowClear:!0,onSearch:this.articleSearch,notFoundContent:this.state.searchLoading?"努力寻找中":"搜了个寂寞",style:{width:"100px"},loading:this.state.searchLoading,suffixIcon:A.a.createElement(n.a,{type:"search"}),onBlur:this.searchOnBlur.bind(this),onFocus:this.searchOnFocus.bind(this),dropdownClassName:this.state.searchClass,onSelect:this.selectedSearch.bind(this),getPopupContainer:function(e){return e.parentNode}},t)}}]),a}(y.Component);t.default=Object(g.withRouter)(C)}}]);